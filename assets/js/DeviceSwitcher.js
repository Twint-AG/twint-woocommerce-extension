document.addEventListener("DOMContentLoaded",(function(t){(new class{constructor(){this.options={pageSelector:".twint-qr-container",appSelector:"#logo-container",qrCodeSelector:".qr-code",appLinkSelector:"#app-chooser",appCountDownInterval:2}}init(){var t,e,o;this.$container=document.querySelector(this.options.pageSelector),this.$container&&(this.isMobile=null!==(t=this.$container.getAttribute("data-mobile"))&&void 0!==t&&t,this.isAndroid=null!==(e=this.$container.getAttribute("data-is-android-device"))&&void 0!==e&&e,this.isIos=null!==(o=this.$container.getAttribute("data-is-ios-device"))&&void 0!==o&&o,this.isIos&&this.handleIos(),this.isAndroid&&this.handleAndroid())}handleIos(){console.log("handling IOS device..."),this.$_apps=document.querySelector(this.options.appSelector),this.$qrCode=document.querySelectorAll(this.options.qrCodeSelector),this.$appLinks=document.querySelector(this.options.appLinkSelector),this.$banks=document.querySelectorAll(".bank-logo"),this.$banks&&this.$banks.forEach((t=>{t.addEventListener("touchend",(e=>{this.onClickBank(e,t)}))})),this.$appLinks&&this.$appLinks.addEventListener("change",this.onChangeAppList.bind(this))}handleAndroid(){console.log("handling android device..."),this.$qrCode=document.querySelectorAll(this.options.qrCodeSelector);let t=this.$container.getAttribute("data-android-link");window.location.replace(t);const e=setInterval((()=>{this.showMobileQrCode(),clearInterval(e)}),1e3*this.options.appCountDownInterval)}onClickBank(t,e){let o=e.getAttribute("data-link");this.openAppBank(o)}onChangeAppList(t){const e=t.target;let o=e.options[e.selectedIndex].value;this.openAppBank(o)}openAppBank(t){if(t)try{window.location.replace(t);const e=setInterval((()=>{window.location.href!==t&&this.showMobileQrCode(),clearInterval(e)}),1e3*this.options.appCountDownInterval)}catch(t){this.showMobileQrCode()}}showMobileQrCode(){this.$qrCode.forEach((t=>{t?.classList?.remove("d-none")}))}}).init()}));