{"version":3,"file":"admin-utilities.js","mappings":"mBACA,IAAWA,ECD0BC,OAAe,QDCzCD,EA6FRE,QARGC,GAAGC,cAAgB,SAAUC,GAC3B,IAAMC,EAAQN,EAAEO,MAIhB,OAHAP,EAAEQ,KAAKF,GAAO,SAAUG,EAAOC,IAnFX,SAAUA,GAC9BV,EAAEU,GAASC,SAAS,oBAkBhBD,GAjBAA,EAAUV,EAAEU,GAASE,KAAK,8FAADC,OAErBH,EAAQI,WAAWC,cACb,KAAOL,EAAQI,WAAWC,cAAcC,YACpC,GACA,oBACJ,GAAE,MAAAH,OAERH,EAAQI,WAAWC,cACb,KAAOL,EAAQI,WAAWC,cAAcC,YAAW,+6BAAAH,OAE5CH,EAAQI,WAAWC,cAAcC,aAAa,46BACs3B,WAAAH,OAC36BH,EAAQO,UAAS,uCAAAJ,OACvB,KAAOH,EAAQQ,YAAc,qBAAuB,GAAHL,OAAMH,EAAQQ,aAAa,6DAG9DC,QAAQ,cAGtBC,GAAG,wBAAyB,oBAAoB,SAAUf,GAC9DL,EAAEO,MAAMY,QAAQ,wBAAwBR,SAAS,YACrD,IAGAD,EAAQU,GAAG,sBAAuB,oBAAoB,SAAUf,GAC5DL,EAAEO,MAAMY,QAAQ,wBAAwBE,YAAY,YACxD,IAGAX,EAAQU,GAAG,SAAU,oBAAoB,SAAUf,GAC/C,IAAIiB,EAAatB,EAAEO,MAAM,GAAGgB,MAAMC,OAC9BC,EAAgBzB,EAAEO,MAAMmB,KAAK,kBACjC,GAAI,IAAMJ,EAAY,CAClB,IAAIK,EAAW3B,EAAEO,MAAMqB,MAAMC,MAAM,MAAMC,MACzCL,EACKM,KAAKJ,GACLD,KAAK,qBACLM,IAAI,UAAW,QACxB,MAAWV,EAAa,EACpBG,EACKM,KAAKT,EAAa,mBAClBI,KAAK,qBACLM,IAAI,UAAW,iBAEpBP,EAAcM,KAAK,GAADlB,OAEV,KAAON,KAAK,GAAGW,YACT,qBAAoB,GAAAL,OACjBN,KAAK,GAAGW,eAGzBlB,EAAEO,MACGY,QAAQ,aACRc,KAAK,qBACLD,IAAI,UAAW,QAE5B,IAGAtB,EAAQU,GAAG,QAAS,qBAAqB,SAAUf,GAC/C,IAAI6B,EAAgBlC,EAAEO,MACtB2B,EAAcf,QAAQ,aAAac,KAAK,oBAAoBL,IAAI,MAChEM,EACKF,IAAI,UAAW,QACfG,KAAK,kBACLJ,KAAK,GAADlB,OAEG,KACAb,EAAEO,MAAMY,QAAQ,aAAac,KAAK,oBAAoB,GAAGf,YACnD,qBAAoB,GAAAL,OAElBb,EAAEO,MAAMY,QAAQ,aAAac,KAAK,oBAAoB,GAAGf,cAIjF,GACJ,CAKQkB,CAAkB1B,EACtB,IACOH,IACX,EAKJL,OAAOmC,UAAUC,OAAM,SAAUtC,GAC7BA,EAAE,sBAAsBI,gBAExBF,OAAOmC,UAAUjB,GAAG,QAAS,oBAAoB,SAAUmB,GACvDA,EAAIC,iBAEJ,IAAMC,EAAQzC,EAAEO,MACVmC,EAAWD,EAAME,KAAK,kBACtBC,EAAQH,EAAME,KAAK,cACnBE,EAAS7C,EAAE,gBACb6C,EAAOC,SAAS,cAChBD,EAAOxB,YAAY,cAInBnB,OAAO6C,KAAK,CACRC,IAAKC,6BAA6BC,SAClCC,KAAM,CACFC,OAAQ,8BACRC,UAAWX,EACXE,MAAOA,GAEXU,QAAS,SAAUC,GACfC,QAAQC,IAAIF,GACZvD,EAAE,0BAA0B0D,KAAKC,KAAKC,MAAML,IAC5CV,EAAOlC,SAAS,aACpB,GAIZ,IAEAX,EAAEqC,UAAUjB,GAAG,QAAS,iBAAiB,SAAUmB,GAChCvC,EAAE,gBACVqB,YAAY,aACvB,IAEAgB,SAASwB,UAAY,SAAUtB,GACP,KAAhBA,EAAIuB,SAEW9D,EAAE,gBACVqB,YAAY,aAE3B,CACJ,G","sources":["webpack://woocommerce-gateway-twint/./resources/js/admin/admin-utilities.js","webpack://woocommerce-gateway-twint/external window \"jQuery\""],"sourcesContent":["import jquery from 'jquery';\n(function ($) {\n    /**\n     * Create drag and drop element.\n     */\n    var customDragAndDrop = function (element) {\n        $(element).addClass(\"kwt-file__input\");\n        var element = $(element).wrap(\n            `<div class=\"kwt-file\"><div class=\"kwt-file__drop-area\"><span class='kwt-file__choose-file ${\n                element.attributes.data_btn_text\n                    ? \"\" === element.attributes.data_btn_text.textContent\n                        ? \"\"\n                        : \"kwt-file_btn-text\"\n                    : \"\"\n            }'>${\n                element.attributes.data_btn_text\n                    ? \"\" === element.attributes.data_btn_text.textContent\n                        ? `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" fill=\"currentColor\"><path d=\"M67.508 468.467c-58.005-58.013-58.016-151.92 0-209.943l225.011-225.04c44.643-44.645 117.279-44.645 161.92 0 44.743 44.749 44.753 117.186 0 161.944l-189.465 189.49c-31.41 31.413-82.518 31.412-113.926.001-31.479-31.482-31.49-82.453 0-113.944L311.51 110.491c4.687-4.687 12.286-4.687 16.972 0l16.967 16.971c4.685 4.686 4.685 12.283 0 16.969L184.983 304.917c-12.724 12.724-12.73 33.328 0 46.058 12.696 12.697 33.356 12.699 46.054-.001l189.465-189.489c25.987-25.989 25.994-68.06.001-94.056-25.931-25.934-68.119-25.932-94.049 0l-225.01 225.039c-39.249 39.252-39.258 102.795-.001 142.057 39.285 39.29 102.885 39.287 142.162-.028A739446.174 739446.174 0 0 1 439.497 238.49c4.686-4.687 12.282-4.684 16.969.004l16.967 16.971c4.685 4.686 4.689 12.279.004 16.965a755654.128 755654.128 0 0 0-195.881 195.996c-58.034 58.092-152.004 58.093-210.048.041z\" /></svg>`\n                        : `${element.attributes.data_btn_text.textContent}`\n                    : `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" fill=\"currentColor\"><path d=\"M67.508 468.467c-58.005-58.013-58.016-151.92 0-209.943l225.011-225.04c44.643-44.645 117.279-44.645 161.92 0 44.743 44.749 44.753 117.186 0 161.944l-189.465 189.49c-31.41 31.413-82.518 31.412-113.926.001-31.479-31.482-31.49-82.453 0-113.944L311.51 110.491c4.687-4.687 12.286-4.687 16.972 0l16.967 16.971c4.685 4.686 4.685 12.283 0 16.969L184.983 304.917c-12.724 12.724-12.73 33.328 0 46.058 12.696 12.697 33.356 12.699 46.054-.001l189.465-189.489c25.987-25.989 25.994-68.06.001-94.056-25.931-25.934-68.119-25.932-94.049 0l-225.01 225.039c-39.249 39.252-39.258 102.795-.001 142.057 39.285 39.29 102.885 39.287 142.162-.028A739446.174 739446.174 0 0 1 439.497 238.49c4.686-4.687 12.282-4.684 16.969.004l16.967 16.971c4.685 4.686 4.689 12.279.004 16.965a755654.128 755654.128 0 0 0-195.881 195.996c-58.034 58.092-152.004 58.093-210.048.041z\" /></svg>`\n            }</span>${element.outerHTML}</span><span class=\"kwt-file__msg\">${\n                \"\" === element.placeholder ? \"or drop files here\" : `${element.placeholder}`\n            }</span><div class=\"kwt-file__delete\"></div></div></div>`\n        );\n        var element = element.parents(\".kwt-file\");\n\n        // Add class on focus and drag enter event.\n        element.on(\"dragenter focus click\", \".kwt-file__input\", function (e) {\n            $(this).parents(\".kwt-file__drop-area\").addClass(\"is-active\");\n        });\n\n        // Remove class on blur and drag leave event.\n        element.on(\"dragleave blur drop\", \".kwt-file__input\", function (e) {\n            $(this).parents(\".kwt-file__drop-area\").removeClass(\"is-active\");\n        });\n\n        // Show filename when change file.\n        element.on(\"change\", \".kwt-file__input\", function (e) {\n            let filesCount = $(this)[0].files.length;\n            let textContainer = $(this).next(\".kwt-file__msg\");\n            if (1 === filesCount) {\n                let fileName = $(this).val().split(\"\\\\\").pop();\n                textContainer\n                    .text(fileName)\n                    .next(\".kwt-file__delete\")\n                    .css(\"display\", \"block\");\n            } else if (filesCount > 1) {\n                textContainer\n                    .text(filesCount + \" files selected\")\n                    .next(\".kwt-file__delete\")\n                    .css(\"display\", \"inline-block\");\n            } else {\n                textContainer.text(\n                    `${\n                        \"\" === this[0].placeholder\n                            ? \"or drop files here\"\n                            : `${this[0].placeholder}`\n                    }`\n                );\n                $(this)\n                    .parents(\".kwt-file\")\n                    .find(\".kwt-file__delete\")\n                    .css(\"display\", \"none\");\n            }\n        });\n\n        // Delete selected file.\n        element.on(\"click\", \".kwt-file__delete\", function (e) {\n            let deleteElement = $(this);\n            deleteElement.parents(\".kwt-file\").find(`.kwt-file__input`).val(null);\n            deleteElement\n                .css(\"display\", \"none\")\n                .prev(`.kwt-file__msg`)\n                .text(\n                    `${\n                        \"\" ===\n                        $(this).parents(\".kwt-file\").find(\".kwt-file__input\")[0].placeholder\n                            ? \"or drop files here\"\n                            : `${\n                                $(this).parents(\".kwt-file\").find(\".kwt-file__input\")[0].placeholder\n                            }`\n                    }`\n                );\n        });\n    };\n\n    $.fn.kwtFileUpload = function (e) {\n        const _this = $(this);\n        $.each(_this, function (index, element) {\n            customDragAndDrop(element);\n        });\n        return this;\n    }\n\n})(jQuery);\n\n// Plugin initialize\njQuery(document).ready(function ($) {\n    $(\".twint-file-upload\").kwtFileUpload();\n\n    jQuery(document).on('click', '.js_view_details', function (evt) {\n        evt.preventDefault();\n\n        const $this = $(this);\n        const recordId = $this.attr('data-record-id');\n        const nonce = $this.attr('data-nonce');\n        const $modal = $('.twint-modal');\n        if ($modal.hasClass('show-modal')) {\n            $modal.removeClass('show-modal');\n        } else {\n\n            // call ajax here\n            jQuery.ajax({\n                url: woocommerce_admin_meta_boxes.ajax_url,\n                data: {\n                    action: 'get_log_transaction_details',\n                    record_id: recordId,\n                    nonce: nonce,\n                },\n                success: function (response) {\n                    console.log(response);\n                    $('#modal-content-details').html(JSON.parse(response));\n                    $modal.addClass('show-modal');\n                }\n            });\n\n        }\n    });\n\n    $(document).on('click', '.close-button', function (evt) {\n        const $modal = $('.twint-modal');\n        $modal.removeClass('show-modal');\n    });\n\n    document.onkeydown = function (evt) {\n        if (evt.keyCode === 27) {\n            // Escape key pressed\n            const $modal = $('.twint-modal');\n            $modal.removeClass('show-modal');\n        }\n    };\n});\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"jQuery\"];"],"names":["$","window","jQuery","fn","kwtFileUpload","e","_this","this","each","index","element","addClass","wrap","concat","attributes","data_btn_text","textContent","outerHTML","placeholder","parents","on","removeClass","filesCount","files","length","textContainer","next","fileName","val","split","pop","text","css","find","deleteElement","prev","customDragAndDrop","document","ready","evt","preventDefault","$this","recordId","attr","nonce","$modal","hasClass","ajax","url","woocommerce_admin_meta_boxes","ajax_url","data","action","record_id","success","response","console","log","html","JSON","parse","onkeydown","keyCode"],"sourceRoot":""}